<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNMP - Sistema de Acompanhamento de Proposi√ß√µes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-box">
            <h2>CNMP - Sistema de Proposi√ß√µes</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Usu√°rio</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" required>
                </div>
                <div class="form-group">
                    <label for="userType">Perfil</label>
                    <select id="userType" required onchange="toggleRamoMPField()">
                        <option value="">Selecione...</option>
                        <option value="admin">Corregedoria Nacional</option>
                        <option value="user">√ìrg√£o Correicionado</option>
                    </select>
                </div>
                <div class="form-group hidden" id="ramoMPGroup">
                    <label for="ramoMPLogin">Ramo do Minist√©rio P√∫blico *</label>
                    <select id="ramoMPLogin">
                        <option value="">Selecione seu MP...</option>
                        <option value="MPBA">MPBA - Minist√©rio P√∫blico da Bahia</option>
                        <option value="MPGO">MPGO - Minist√©rio P√∫blico de Goi√°s</option>
                        <option value="MPPI">MPPI - Minist√©rio P√∫blico do Piau√≠</option>
                        <option value="MPSP">MPSP - Minist√©rio P√∫blico de S√£o Paulo</option>
                        <option value="MPRJ">MPRJ - Minist√©rio P√∫blico do Rio de Janeiro</option>
                        <option value="MPMG">MPMG - Minist√©rio P√∫blico de Minas Gerais</option>
                        <option value="MPCE">MPCE - Minist√©rio P√∫blico do Cear√°</option>
                        <option value="MPPE">MPPE - Minist√©rio P√∫blico de Pernambuco</option>
                        <option value="MPRS">MPRS - Minist√©rio P√∫blico do Rio Grande do Sul</option>
                        <option value="MPPR">MPPR - Minist√©rio P√∫blico do Paran√°</option>
                        <option value="MPSC">MPSC - Minist√©rio P√∫blico de Santa Catarina</option>
                        <option value="MPMT">MPMT - Minist√©rio P√∫blico do Mato Grosso</option>
                        <option value="MPMS">MPMS - Minist√©rio P√∫blico do Mato Grosso do Sul</option>
                        <option value="MPAM">MPAM - Minist√©rio P√∫blico do Amazonas</option>
                        <option value="MPPA">MPPA - Minist√©rio P√∫blico do Par√°</option>
                        <option value="MPDF">MPDF - Minist√©rio P√∫blico do Distrito Federal</option>
                        <option value="MPES">MPES - Minist√©rio P√∫blico do Esp√≠rito Santo</option>
                        <option value="MPRN">MPRN - Minist√©rio P√∫blico do Rio Grande do Norte</option>
                        <option value="MPPB">MPPB - Minist√©rio P√∫blico da Para√≠ba</option>
                        <option value="MPAL">MPAL - Minist√©rio P√∫blico de Alagoas</option>
                        <option value="MPSE">MPSE - Minist√©rio P√∫blico de Sergipe</option>
                        <option value="MPTO">MPTO - Minist√©rio P√∫blico do Tocantins</option>
                        <option value="MPAC">MPAC - Minist√©rio P√∫blico do Acre</option>
                        <option value="MPRO">MPRO - Minist√©rio P√∫blico de Rond√¥nia</option>
                        <option value="MPRR">MPRR - Minist√©rio P√∫blico de Roraima</option>
                        <option value="MPAP">MPAP - Minist√©rio P√∫blico do Amap√°</option>
                        <option value="MPMA">MPMA - Minist√©rio P√∫blico do Maranh√£o</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Entrar</button>
            </form>
            <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 0.5rem;">Problemas com os dados?</p>
                <a href="javascript:void(0)" onclick="resetarDadosDemonstracao()" style="color: var(--secondary-color); font-size: 0.875rem; text-decoration: underline;">
                    üîÑ Resetar Dados de Demonstra√ß√£o
                </a>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="header">
            <h1>CNMP - Sistema de Acompanhamento de Proposi√ß√µes</h1>
            <div class="header-user">
                <span id="userName">Usu√°rio</span>
                <button class="btn-logout" onclick="logout()">Sair</button>
            </div>
        </header>

        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav>
                    <div class="nav-item active" onclick="showPage('dashboard')">
                        <span class="nav-icon">üìä</span>
                        <span>Dashboard</span>
                    </div>
                    <div class="nav-item" onclick="showPage('correicoes')">
                        <span class="nav-icon">üèõÔ∏è</span>
                        <span>Correi√ß√µes</span>
                    </div>
                    <div class="nav-item" onclick="showPage('proposicoes')">
                        <span class="nav-icon">üìã</span>
                        <span>Proposi√ß√µes</span>
                    </div>
                    <div class="nav-item" id="navMinhasComprovacoes" onclick="showPage('enviar')">
                        <span class="nav-icon">‚úçÔ∏è</span>
                        <span>Minhas Comprova√ß√µes</span>
                    </div>
                    <div class="nav-item" id="navPublicar" onclick="showPage('publicar')">
                        <span class="nav-icon">üì¢</span>
                        <span>Publicar Proposi√ß√µes</span>
                    </div>
                    <div class="nav-item" id="navAvaliar" onclick="showPage('avaliar')">
                        <span class="nav-icon">‚öñÔ∏è</span>
                        <span>Avaliar Comprova√ß√µes</span>
                    </div>
                    <div class="nav-item" id="navCadastroCorreicao" onclick="showPage('cadastroCorreicao')">
                        <span class="nav-icon">üÜï</span>
                        <span>Nova Correi√ß√£o</span>
                    </div>
                    <div class="nav-item" id="navCadastroProposicao" onclick="showPage('cadastro')">
                        <span class="nav-icon">‚ûï</span>
                        <span>Nova Proposi√ß√£o</span>
                    </div>
                </nav>
            </aside>

            <!-- Content Area -->
            <main class="content">
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page">
                    <h2 class="page-title">Dashboard</h2>

                    <div class="dashboard-cards">
                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Correi√ß√µes Realizadas</span>
                                <span class="card-icon">üèõÔ∏è</span>
                            </div>
                            <div class="card-value" id="totalCorreicoes">0</div>
                            <div class="card-description">Total de correi√ß√µes cadastradas</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Total de Proposi√ß√µes</span>
                                <span class="card-icon">üìÑ</span>
                            </div>
                            <div class="card-value" id="totalProposicoes">0</div>
                            <div class="card-description">Todas as proposi√ß√µes registradas</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Adimplentes</span>
                                <span class="card-icon">‚úÖ</span>
                            </div>
                            <div class="card-value" id="adimplentes" style="color: var(--success-color)">0</div>
                            <div class="card-description">Proposi√ß√µes cumpridas</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Pendentes</span>
                                <span class="card-icon">‚è≥</span>
                            </div>
                            <div class="card-value" id="pendentes" style="color: var(--warning-color)">0</div>
                            <div class="card-description">Aguardando cumprimento</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Aguardando Comprova√ß√£o</span>
                                <span class="card-icon">üìù</span>
                            </div>
                            <div class="card-value" id="aguardandoComprovacao" style="color: #e65100">0</div>
                            <div class="card-description">Publicadas para comprova√ß√£o</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Inadimplentes</span>
                                <span class="card-icon">‚ùå</span>
                            </div>
                            <div class="card-value" id="inadimplentes" style="color: var(--danger-color)">0</div>
                            <div class="card-description">Fora do prazo</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Em An√°lise</span>
                                <span class="card-icon">üîç</span>
                            </div>
                            <div class="card-value" id="emAnalise" style="color: var(--secondary-color)">0</div>
                            <div class="card-description">Aguardando avalia√ß√£o</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Prejudicadas</span>
                                <span class="card-icon">‚äò</span>
                            </div>
                            <div class="card-value" id="prejudicadas" style="color: var(--text-muted)">0</div>
                            <div class="card-description">Proposi√ß√µes prejudicadas</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">Prazo Vencido</span>
                                <span class="card-icon">‚ö†Ô∏è</span>
                            </div>
                            <div class="card-value" id="prazoVencido" style="color: var(--danger-color)">0</div>
                            <div class="card-description">Comprova√ß√£o em atraso</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h3 class="chart-title">Status das Proposi√ß√µes</h3>
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>

                <!-- Proposi√ß√µes Page -->
                <div id="proposicoesPage" class="page hidden">
                    <h2 class="page-title">Proposi√ß√µes</h2>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="search-box">
                                <input type="text" id="searchInput" placeholder="Buscar por n√∫mero, comarca ou √≥rg√£o...">
                                <select id="correicaoFilter">
                                    <option value="">Todas as correi√ß√µes</option>
                                </select>
                                <select id="statusFilter">
                                    <option value="">Todos os status</option>
                                    <option value="pendente">Pendente</option>
                                    <option value="aguardando_comprovacao">Aguardando Comprova√ß√£o</option>
                                    <option value="em_analise">Em An√°lise</option>
                                    <option value="adimplente">Adimplente</option>
                                    <option value="parcial">Parcialmente Adimplente</option>
                                    <option value="inadimplente">Inadimplente</option>
                                    <option value="prejudicada">Prejudicada</option>
                                </select>
                                <select id="tagFilter">
                                    <option value="">Todas as tags</option>
                                </select>
                            </div>
                        </div>

                        <table>
                            <thead>
                                <tr>
                                    <th>N√∫mero</th>
                                    <th>Correi√ß√£o</th>
                                    <th>√ìrg√£o Correicionado</th>
                                    <th>Tipo</th>
                                    <th>Unidade</th>
                                    <th>Membro</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Tags</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="proposicoesTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Correi√ß√µes Page -->
                <div id="correicoesPage" class="page hidden">
                    <h2 class="page-title">Correi√ß√µes</h2>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="search-box">
                                <input type="text" id="searchCorreicao" placeholder="Buscar por ramo do MP, ano ou n√∫mero...">
                            </div>
                        </div>

                        <table>
                            <thead>
                                <tr>
                                    <th>N√∫mero</th>
                                    <th>Tem√°tica</th>
                                    <th>N√∫mero ELO</th>
                                    <th>Tipo</th>
                                    <th>MP</th>
                                    <th>UF</th>
                                    <th>Ramo do MP</th>
                                    <th>Per√≠odo</th>
                                    <th>Total de Proposi√ß√µes</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="correicoesTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Enviar Comprova√ß√£o Page -->
                <div id="enviarPage" class="page hidden">
                    <h2 class="page-title">Minhas Comprova√ß√µes</h2>

                    <div class="alert alert-info" style="background-color: #e7f3ff; color: #004085; border: 1px solid #b8daff; margin-bottom: 2rem; padding: 1rem;">
                        <strong>Novo Fluxo de Trabalho:</strong> Selecione as proposi√ß√µes abaixo, prepare suas comprova√ß√µes e salve como rascunho.
                        Quando estiver pronto, revise todas as comprova√ß√µes e envie em bloco clicando em "Assinar e Enviar Todas as Comprova√ß√µes".
                    </div>

                    <!-- Lista de Proposi√ß√µes Aguardando Comprova√ß√£o -->
                    <div class="table-container">
                        <div class="table-header">
                            <h3>Proposi√ß√µes Aguardando Comprova√ß√£o</h3>
                        </div>

                        <table>
                            <thead>
                                <tr>
                                    <th>N√∫mero</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Prazo Comprova√ß√£o</th>
                                    <th>Status Rascunho</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="proposicoesComprovacaoTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Bot√£o Revisar e Enviar em Bloco -->
                    <div style="margin-top: 2rem; text-align: center;" id="enviarBlocoContainer" class="hidden">
                        <button class="btn btn-success" style="font-size: 1.1rem; padding: 1rem 2rem;" onclick="abrirRevisaoComprovacoes()">
                            üìã Revisar e Assinar Todas as Comprova√ß√µes
                        </button>
                        <p style="margin-top: 0.5rem; color: var(--text-muted);">
                            <span id="totalRascunhos">0</span> comprova√ß√£o(√µes) pronta(s) para envio
                        </p>
                    </div>
                </div>

                <!-- Publicar Proposi√ß√µes Page -->
                <div id="publicarPage" class="page hidden">
                    <h2 class="page-title">Publicar Proposi√ß√µes para Comprova√ß√£o</h2>

                    <div class="form-container" style="max-width: 1200px;">
                        <div class="alert alert-info" style="background-color: #e7f3ff; color: #004085; border: 1px solid #b8daff;">
                            <strong>Instru√ß√µes:</strong> Selecione uma correi√ß√£o para visualizar suas proposi√ß√µes pendentes.
                            Marque as proposi√ß√µes que deseja publicar para comprova√ß√£o pelos correicionados e defina o prazo para envio das comprova√ß√µes.
                        </div>

                        <div class="form-group">
                            <label for="correicaoPublicar">Selecione a Correi√ß√£o *</label>
                            <select id="correicaoPublicar" onchange="carregarProposicoesParaPublicar()">
                                <option value="">Selecione...</option>
                            </select>
                        </div>

                        <div id="proposicoesPublicarContainer" class="hidden">
                            <div class="form-group">
                                <label for="prazoComprovacaoGlobal">Prazo para Comprova√ß√£o *</label>
                                <input type="date" id="prazoComprovacaoGlobal" required>
                            </div>

                            <h3 style="margin: 2rem 0 1rem 0; color: var(--primary-color);">Proposi√ß√µes Dispon√≠veis para Publica√ß√£o</h3>

                            <div class="table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="width: 50px;">
                                                <input type="checkbox" id="selectAllPublicar" onchange="toggleSelectAllPublicar()">
                                            </th>
                                            <th>N√∫mero</th>
                                            <th>Descri√ß√£o</th>
                                            <th>Prazo Cumprimento</th>
                                            <th>Status</th>
                                            <th>Prioridade</th>
                                        </tr>
                                    </thead>
                                    <tbody id="proposicoesPublicarTableBody">
                                        <!-- Populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="limparSelecaoPublicar()">Limpar Sele√ß√£o</button>
                                <button type="button" class="btn btn-primary" onclick="publicarProposicoesSelecionadas()">Publicar Proposi√ß√µes Selecionadas</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Avaliar Comprova√ß√µes Page -->
                <div id="avaliarPage" class="page hidden">
                    <h2 class="page-title">Avaliar Comprova√ß√µes</h2>

                    <div class="table-container">
                        <div class="table-header">
                            <h3>Proposi√ß√µes em An√°lise</h3>
                        </div>

                        <table>
                            <thead>
                                <tr>
                                    <th>N√∫mero</th>
                                    <th>Correi√ß√£o</th>
                                    <th>√ìrg√£o</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Comprova√ß√µes</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="avaliacaoTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Cadastro Correi√ß√£o Page -->
                <div id="cadastroCorreicaoPage" class="page hidden">
                    <h2 class="page-title">Cadastrar Nova Correi√ß√£o</h2>

                    <div class="form-container">
                        <form id="cadastroCorreicaoForm">
                            <div class="form-group">
                                <label for="numeroCorreicao">N√∫mero da Correi√ß√£o *</label>
                                <input type="text" id="numeroCorreicao" required placeholder="Ex: COR-2024-01">
                            </div>

                            <div class="form-group">
                                <label for="tematicaCorreicao">Tem√°tica *</label>
                                <input type="text" id="tematicaCorreicao" required placeholder="Ex: Correi√ß√£o de direitos fundamentais e meio ambiente">
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="numeroEloCorreicao">N√∫mero ELO *</label>
                                    <input type="text" id="numeroEloCorreicao" required placeholder="NNNNNNN-DD.AAAA.J.TT.OOOO" maxlength="27">
                                </div>
                                <div class="form-group">
                                    <label for="tipoCorreicao">Tipo *</label>
                                    <select id="tipoCorreicao" required>
                                        <option value="">Selecione...</option>
                                        <option value="Ordin√°ria">Ordin√°ria</option>
                                        <option value="Extraordin√°ria">Extraordin√°ria</option>
                                        <option value="OCD">OCD</option>
                                        <option value="Inspe√ß√£o">Inspe√ß√£o</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="mpCorreicao">MP *</label>
                                    <select id="mpCorreicao" required onchange="toggleUFMultiple()">
                                        <option value="">Selecione...</option>
                                        <option value="MPE">MPE</option>
                                        <option value="MPU">MPU</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="ufCorreicao">UF * <span id="ufMultipleNote" class="hidden" style="color: var(--text-muted); font-size: 0.875rem;">(M√∫ltipla sele√ß√£o: Ctrl+Click)</span></label>
                                    <select id="ufCorreicao" required size="1">
                                        <option value="">Selecione...</option>
                                        <option value="AC">AC - Acre</option>
                                        <option value="AL">AL - Alagoas</option>
                                        <option value="AP">AP - Amap√°</option>
                                        <option value="AM">AM - Amazonas</option>
                                        <option value="BA">BA - Bahia</option>
                                        <option value="CE">CE - Cear√°</option>
                                        <option value="DF">DF - Distrito Federal</option>
                                        <option value="ES">ES - Esp√≠rito Santo</option>
                                        <option value="GO">GO - Goi√°s</option>
                                        <option value="MA">MA - Maranh√£o</option>
                                        <option value="MT">MT - Mato Grosso</option>
                                        <option value="MS">MS - Mato Grosso do Sul</option>
                                        <option value="MG">MG - Minas Gerais</option>
                                        <option value="PA">PA - Par√°</option>
                                        <option value="PB">PB - Para√≠ba</option>
                                        <option value="PR">PR - Paran√°</option>
                                        <option value="PE">PE - Pernambuco</option>
                                        <option value="PI">PI - Piau√≠</option>
                                        <option value="RJ">RJ - Rio de Janeiro</option>
                                        <option value="RN">RN - Rio Grande do Norte</option>
                                        <option value="RS">RS - Rio Grande do Sul</option>
                                        <option value="RO">RO - Rond√¥nia</option>
                                        <option value="RR">RR - Roraima</option>
                                        <option value="SC">SC - Santa Catarina</option>
                                        <option value="SP">SP - S√£o Paulo</option>
                                        <option value="SE">SE - Sergipe</option>
                                        <option value="TO">TO - Tocantins</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="ramoMP">Ramo do Minist√©rio P√∫blico *</label>
                                    <select id="ramoMP" required>
                                        <option value="">Selecione...</option>
                                        <option value="MPBA">MPBA - Minist√©rio P√∫blico da Bahia</option>
                                        <option value="MPGO">MPGO - Minist√©rio P√∫blico de Goi√°s</option>
                                        <option value="MPPI">MPPI - Minist√©rio P√∫blico do Piau√≠</option>
                                        <option value="MPSP">MPSP - Minist√©rio P√∫blico de S√£o Paulo</option>
                                        <option value="MPRJ">MPRJ - Minist√©rio P√∫blico do Rio de Janeiro</option>
                                        <option value="MPMG">MPMG - Minist√©rio P√∫blico de Minas Gerais</option>
                                        <option value="MPCE">MPCE - Minist√©rio P√∫blico do Cear√°</option>
                                        <option value="MPPE">MPPE - Minist√©rio P√∫blico de Pernambuco</option>
                                        <option value="MPRS">MPRS - Minist√©rio P√∫blico do Rio Grande do Sul</option>
                                        <option value="MPPR">MPPR - Minist√©rio P√∫blico do Paran√°</option>
                                        <option value="MPSC">MPSC - Minist√©rio P√∫blico de Santa Catarina</option>
                                        <option value="MPMT">MPMT - Minist√©rio P√∫blico do Mato Grosso</option>
                                        <option value="MPMS">MPMS - Minist√©rio P√∫blico do Mato Grosso do Sul</option>
                                        <option value="MPAM">MPAM - Minist√©rio P√∫blico do Amazonas</option>
                                        <option value="MPPA">MPPA - Minist√©rio P√∫blico do Par√°</option>
                                        <option value="MPDF">MPDF - Minist√©rio P√∫blico do Distrito Federal</option>
                                        <option value="MPES">MPES - Minist√©rio P√∫blico do Esp√≠rito Santo</option>
                                        <option value="MPRN">MPRN - Minist√©rio P√∫blico do Rio Grande do Norte</option>
                                        <option value="MPPB">MPPB - Minist√©rio P√∫blico da Para√≠ba</option>
                                        <option value="MPAL">MPAL - Minist√©rio P√∫blico de Alagoas</option>
                                        <option value="MPSE">MPSE - Minist√©rio P√∫blico de Sergipe</option>
                                        <option value="MPTO">MPTO - Minist√©rio P√∫blico do Tocantins</option>
                                        <option value="MPAC">MPAC - Minist√©rio P√∫blico do Acre</option>
                                        <option value="MPRO">MPRO - Minist√©rio P√∫blico de Rond√¥nia</option>
                                        <option value="MPRR">MPRR - Minist√©rio P√∫blico de Roraima</option>
                                        <option value="MPAP">MPAP - Minist√©rio P√∫blico do Amap√°</option>
                                        <option value="MPMA">MPMA - Minist√©rio P√∫blico do Maranh√£o</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="statusCorreicao">Status *</label>
                                    <select id="statusCorreicao" required>
                                        <option value="">Selecione...</option>
                                        <option value="ativo">Ativo</option>
                                        <option value="inativo">Inativo</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="dataInicioCorreicao">Data de In√≠cio *</label>
                                    <input type="date" id="dataInicioCorreicao" required>
                                </div>
                                <div class="form-group">
                                    <label for="dataFimCorreicao">Data de T√©rmino *</label>
                                    <input type="date" id="dataFimCorreicao" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="observacoesCorreicao">Observa√ß√µes</label>
                                <textarea id="observacoesCorreicao" rows="4" placeholder="Observa√ß√µes gerais sobre a correi√ß√£o (opcional)"></textarea>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="clearCorreicaoForm()">Limpar</button>
                                <button type="submit" class="btn btn-primary">Cadastrar Correi√ß√£o</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Cadastro Page -->
                <div id="cadastroPage" class="page hidden">
                    <h2 class="page-title">Cadastrar Nova Proposi√ß√£o</h2>

                    <div class="form-container">
                        <form id="cadastroForm">
                            <div class="form-group">
                                <label for="correicaoId">Correi√ß√£o de Origem *</label>
                                <select id="correicaoId" required>
                                    <option value="">Selecione a correi√ß√£o...</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="numeroProposicao">N√∫mero da Proposi√ß√£o *</label>
                                <input type="text" id="numeroProposicao" required placeholder="Ex: PROP-2024-0001">
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="tipoProposicao">Tipo *</label>
                                    <select id="tipoProposicao" required>
                                        <option value="">Selecione...</option>
                                        <option value="Determina√ß√£o">Determina√ß√£o</option>
                                        <option value="Recomenda√ß√£o">Recomenda√ß√£o</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="prioridade">Prioridade</label>
                                    <select id="prioridade">
                                        <option value="normal">Normal</option>
                                        <option value="alta">Alta</option>
                                        <option value="urgente">Urgente</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="unidadeProposicao">Unidade *</label>
                                    <input type="text" id="unidadeProposicao" required placeholder="Ex: Promotoria de Justi√ßa de Cachoeira">
                                </div>
                                <div class="form-group">
                                    <label for="membroProposicao">Membro *</label>
                                    <input type="text" id="membroProposicao" required placeholder="Ex: Dr. Jo√£o Silva Santos">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="descricaoProposicao">Descri√ß√£o da Proposi√ß√£o *</label>
                                <div class="textarea-container">
                                    <textarea id="descricaoProposicao" class="auto-resize-textarea" rows="10" required placeholder="Descreva detalhadamente a proposi√ß√£o..." maxlength="7500"></textarea>
                                    <div class="textarea-counter">
                                        <span class="char-count" id="descricaoProposicaoCount">0 / 7.500</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Tags/Etiquetas</label>
                                <div class="tag-select-container" id="tagSelectContainer">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="clearCadastroForm()">Limpar</button>
                                <button type="submit" class="btn btn-primary">Cadastrar Proposi√ß√£o</button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal for Details -->
    <div id="detailModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Detalhes da Proposi√ß√£o</h3>
                <button class="btn-close" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal for Avalia√ß√£o -->
    <div id="avaliacaoModal" class="modal hidden">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title">Avaliar Comprova√ß√£o</h3>
                <button class="btn-close" onclick="closeAvaliacaoModal()">&times;</button>
            </div>
            <div id="avaliacaoModalBody">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal for Comprova√ß√£o (Rascunho) -->
    <div id="comprovacaoModal" class="modal hidden">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title" id="comprovacaoModalTitle">Adicionar Comprova√ß√£o</h3>
                <button class="btn-close" onclick="closeComprovacaoModal()">&times;</button>
            </div>
            <div id="comprovacaoModalBody">
                <form id="rascunhoComprovacaoForm">
                    <input type="hidden" id="proposicaoIdRascunho">

                    <div class="form-group">
                        <label for="descricaoComprovacaoRascunho">Descri√ß√£o do Adimplemento *</label>
                        <div class="textarea-container">
                            <textarea id="descricaoComprovacaoRascunho" class="auto-resize-textarea" rows="10" required placeholder="Descreva como a proposi√ß√£o foi cumprida..." maxlength="7500"></textarea>
                            <div class="textarea-counter">
                                <span class="char-count" id="descricaoComprovacaoRascunhoCount">0 / 7.500</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Documentos Comprobat√≥rios *</label>
                        <div class="file-upload" onclick="document.getElementById('fileInputRascunho').click()">
                            <input type="file" id="fileInputRascunho" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                            <p>Clique para selecionar arquivos</p>
                            <p style="font-size: 0.875rem; color: var(--text-muted); margin-top: 0.5rem;">
                                PDF, DOC, DOCX, JPG, PNG (m√°x. 10MB por arquivo)
                            </p>
                        </div>
                        <div id="fileListRascunho" class="file-list hidden"></div>
                    </div>

                    <div class="form-group">
                        <label for="observacoesRascunho">Observa√ß√µes</label>
                        <textarea id="observacoesRascunho" rows="3" placeholder="Observa√ß√µes adicionais (opcional)"></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeComprovacaoModal()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Salvar Rascunho</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal for Revis√£o e Envio em Bloco -->
    <div id="revisaoModal" class="modal hidden">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <h3 class="modal-title">Revis√£o Final - Assinar e Enviar Comprova√ß√µes</h3>
                <button class="btn-close" onclick="closeRevisaoModal()">&times;</button>
            </div>
            <div id="revisaoModalBody">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Text Reader Modal (Fullscreen) -->
    <div id="textReaderModal" class="text-reader-modal hidden">
        <div class="text-reader-content">
            <div class="text-reader-header">
                <h3 id="textReaderTitle">Leitura Completa</h3>
                <div class="text-reader-actions">
                    <button onclick="copyTextToClipboard()">üìã Copiar</button>
                    <button onclick="printTextReader()">üñ®Ô∏è Imprimir</button>
                    <button onclick="closeTextReaderModal()">‚úï Fechar</button>
                </div>
            </div>
            <div class="text-reader-body">
                <div class="text-content" id="textReaderContent">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
